Description: disable JIT and llint on ia64, s390, sparc and mips
Author: Dmitry Shachnev <mitya57@gmail.com>
Forwarded: no
Last-Update: 2014-01-05

--- a/Source/JavaScriptCore/Target.pri
+++ b/Source/JavaScriptCore/Target.pri
@@ -18,6 +18,12 @@ CONFIG += staticlib
 *-g++*:QMAKE_CXXFLAGS_RELEASE -= -O2
 *-g++*:QMAKE_CXXFLAGS_RELEASE += -O3
 
+# Disable JIT and llint on archs where it FTBFS.
+equals(QT_ARCH, ia64)|equals(QT_ARCH, s390)|equals(QT_ARCH, sparc) {
+    DEFINES -= ENABLE_JIT=1 ENABLE_LLINT=1
+    DEFINES += ENABLE_JIT=0 ENABLE_LLINT=0
+}
+
 # Rules when JIT enabled (not disabled)
 !contains(DEFINES, ENABLE_JIT=0) {
     linux*-g++*:greaterThan(QT_GCC_MAJOR_VERSION,3):greaterThan(QT_GCC_MINOR_VERSION,0) {
